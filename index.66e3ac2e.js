!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},o=n.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,n){r[e]=n},n.parcelRequired7c6=o);var s=o("dyT35"),a=o("bpxeT"),i=o("2TvXO");function c(e){return u.apply(this,arguments)}function u(){return(u=e(a)(e(i).mark((function n(t){var r,o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}},e.next=3,fetch("https://nba-house-manager.herokuapp.com/login",r);case 3:if((o=e.sent).ok){e.next=6;break}throw new Error("Invalid password");case 6:return e.abrupt("return",o.json());case 7:case"end":return e.stop()}}),n)})))).apply(this,arguments)}a=o("bpxeT"),i=o("2TvXO");function l(e){return d.apply(this,arguments)}function d(){return(d=e(a)(e(i).mark((function n(t){var r,o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}},e.next=3,fetch("https://nba-house-manager.herokuapp.com/users/create",r);case 3:if((o=e.sent).ok){e.next=6;break}throw new Error("Invalid password");case 6:return e.abrupt("return",o.json());case 7:case"end":return e.stop()}}),n)})))).apply(this,arguments)}var p=document.querySelector(".js-show-signUp"),f=document.querySelector(".js-show-signIn"),h=document.querySelector(".js-link"),m=document.querySelector(".js_reg");(p.addEventListener("click",g),f.addEventListener("click",v),localStorage.getItem("Token"))&&(h.hidden=!1,m.innerHTML='<span class="js-logout header__link">Вийти</span>',document.querySelector(".js-logout").addEventListener("click",k));function g(){var e=s.create('\n  <form class="js-signIn signIn">\n    <input type="email" name="email" class=\'signIn__input\' placeholder="Введіть емейл" required/>\n    <input type="password" class=\'signIn__input\' name="password" placeholder="Введіть пароль" required/>\n    <button class=\'signIn__button\'>Зареєструватись</button>\n  </form>\n    ');e.show(),document.querySelector(".js-signIn").addEventListener("submit",w.bind(e))}function v(){var e=s.create('\n    <form class="js-logIn logIn">\n    <input type="text" name="email" class=\'logIn__input\' placeholder="Введіть емейл..." required/>\n    <input type="password" name="password" class=\'logIn__input\' placeholder="Введіть пароль..." required/>\n    <button class=\'logIn__button\'>Увійти</button>\n  </form>\n  ',{onShow:function(){document.body.classList.add("lock")},onClose:function(){document.body.classList.remove("lock")}});e.show(),document.querySelector(".js-logIn").addEventListener("submit",y.bind(e))}function w(e){e.preventDefault();var n=this,t=e.currentTarget.elements,r={username:t.email.value,password:t.password.value};l(r).then((function(){n.close()})).then((function(){return c(r).then((function(e){h.hidden=!1,m.innerHTML='<span class="js-logout header__link">Вийти</span>',document.querySelector(".js-logout").addEventListener("click",k),localStorage.setItem("Token",e.token),n.close()}))})).catch((function(e){return console.log(e)}))}function y(e){var n=this;e.preventDefault();var t=e.currentTarget.elements;c({username:t.email.value,password:t.password.value}).then((function(e){var t=n;h.hidden=!1,m.innerHTML='<span class="js-logout header__link">Вийти</span>',document.querySelector(".js-logout").addEventListener("click",k),localStorage.setItem("Token",e.token),t.close()})).catch((function(e){return console.log(e)}))}function k(){localStorage.removeItem("Token"),h.hidden=!0,m.innerHTML='<span class="js-show-signIn header__link">Увійти</span> / <span class="js-show-signUp header__link">Зареєструватись</span>';var e=document.querySelector(".js-show-signUp"),n=document.querySelector(".js-show-signIn");e.addEventListener("click",g),n.addEventListener("click",v)}}();
//# sourceMappingURL=index.66e3ac2e.js.map
