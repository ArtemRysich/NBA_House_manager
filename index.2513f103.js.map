{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SCAAC,EAAAD,EAAA,S,sBAAeE,EAAUC,G,OAAVC,EAASC,MAAAC,KAAAC,U,UAATH,I,OAAAA,EAAfI,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,EAAyBR,G,IACjBS,EAOAC,E,yEAPAD,EAAU,CACdE,OAAQ,OACRC,KAAMC,KAAKC,UAAUd,GACrBe,QAAS,CACP,eAAgB,qB,SAGDC,MACjB,gDACAP,G,WAFIC,EAAIO,EAAAC,MAIAC,GAAE,C,eACV,MAAM,IAAIC,MAAM,oB,gCAGXV,EAAKW,Q,4CAhBUnB,MAAAC,KAAAC,U,CCAxBN,EAAAD,EAAA,S,sBAAeyB,EAAWtB,G,OAAXuB,EAAUrB,MAAAC,KAAAC,U,UAAVmB,I,OAAAA,EAAflB,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,EAA0BR,G,IAClBS,EAOAC,E,yEAPAD,EAAU,CACdE,OAAQ,OACRC,KAAMC,KAAKC,UAAUd,GACrBe,QAAS,CACP,eAAgB,qB,SAGDC,MACjB,wDACAP,G,WAFIC,EAAIO,EAAAC,MAIAC,GAAE,C,eACV,MAAM,IAAIC,MAAM,oB,gCAGXV,EAAKW,Q,4CAhBWnB,MAAAC,KAAAC,U,CFMzB,IAAMoB,EAAYC,SAASC,cAAc,mBACnCC,EAAWF,SAASC,cAAc,mBAqCxC,SAASE,EAAaC,GACpBA,EAAEC,iBAEF,IAAgEC,EAAAF,EAAEG,cAAcC,SAOhFX,EALiB,CACfY,SAH8DH,EAAxDI,MAAOC,MAIbC,SAJ8DN,EAA9BM,SAAUD,QAOvBE,MAAK,SAAAC,G,OAAQC,QAAQC,IAAIF,E,IAAOG,OAAM,SAAAC,G,OAAOH,QAAQC,IAAIE,E,IAGhF,SAASC,EAAYf,GACnBA,EAAEC,iBACFU,QAAQC,IAAIZ,EAAEG,cAAcC,UAC5B,IAGIF,EAAAF,EAAEG,cAAcC,SAMpBlC,EAJiB,CACfmC,SAHEH,EAFFI,MAASC,MAMTC,SAJEN,EADFM,SAAYD,QAQXE,MAAK,SAAAC,G,OAAQM,aAAaC,QAAQ,QAASP,EAAKQ,M,IAChDL,OAAM,SAAAC,G,OAAOH,QAAQC,IAAIE,E,IA9D9BnB,EAAUwB,iBAAiB,SAG3B,WACmBpD,EAAAqD,OAAsB,wTAO9BC,OACMzB,SAASC,cAAc,cAC/BsB,iBAAiB,SAAUpB,E,IAZpCD,EAASqB,iBAAiB,SAc1B,WACmBpD,EAAAqD,OAAsB,+SAMpC,CACDE,OAAQ,WACN1B,SAASb,KAAKwC,UAAUC,IAAI,O,EAE9BC,QAAS,WACP7B,SAASb,KAAKwC,UAAUG,OAAO,O,IAG1BL,OACKzB,SAASC,cAAc,aAC/BsB,iBAAiB,SAAUJ,E","sources":["src/index.js","src/services/auth/login.js","src/services/auth/signup.js"],"sourcesContent":["import * as basicLightbox from 'basiclightbox';\nimport '../node_modules/basiclightbox/dist/basicLightbox.min.css';\n\nimport { loginCall } from './services/auth/login';\nimport { signUpCall } from './services/auth/signup';\n\nconst signUpBtn = document.querySelector('.js-show-signUp');\nconst logInBtn = document.querySelector('.js-show-signIn');\n\nsignUpBtn.addEventListener('click', showSignUp);\nlogInBtn.addEventListener('click', showLogIn);\n\nfunction showSignUp() {\n  const instance = basicLightbox.create(`\n  <form class=\"js-signIn signIn\">\n    <input type=\"email\" name=\"email\" class='signIn__input' placeholder=\"Введіть емейл\" />\n    <input type=\"password\" class='signIn__input' name=\"password\" placeholder=\"Введіть пароль\" />\n    <button class='signIn__button'>Зареєструватись</button>\n  </form>\n    `);\n  instance.show();\n  const signIn = document.querySelector('.js-signIn');\n  signIn.addEventListener('submit', onCreateUser);\n}\nfunction showLogIn() {\n  const instance = basicLightbox.create(`\n    <form class=\"js-logIn logIn\">\n    <input type=\"email\" name=\"email\" class='logIn__input' placeholder=\"Введіть емейл...\" />\n    <input type=\"password\" name=\"password\" class='logIn__input' placeholder=\"Введіть пароль...\" />\n    <button class='logIn__button'>Увійти</button>\n  </form>\n  `, {\n    onShow: () => {\n      document.body.classList.add('lock');\n    },\n    onClose: () => {\n      document.body.classList.remove('lock');\n    }\n  });\n  instance.show()\n  const logIn = document.querySelector('.js-logIn');\n  logIn.addEventListener('submit', onLogInUser);\n}\n\nfunction onCreateUser(e) {\n  e.preventDefault();\n\n  const { email:{value : username}, password:{value: password}} = e.currentTarget.elements;\n\n  const userData = {\n    username,\n    password,\n  };\n\n  signUpCall(userData).then(data => console.log(data)).catch(err => console.log(err))\n}\n\nfunction onLogInUser(e) {\n  e.preventDefault();\n  console.log(e.currentTarget.elements);\n  const {\n    email: { value: username },\n    password: { value: password },\n  } = e.currentTarget.elements;\n\n  const userData = {\n    username,\n    password,\n  };\n  loginCall(userData)\n    .then(data => localStorage.setItem('Token', data.token))\n    .catch(err => console.log(err));\n}\n","async function loginCall(userData) {\n  const options = {\n    method: 'POST',\n    body: JSON.stringify(userData),\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  };\n  const resp = await fetch(\n    'https://nba-house-manager.herokuapp.com/login',\n    options\n  );\n  if (!resp.ok) {\n    throw new Error('Invalid password');\n  }\n\n  return resp.json();\n}\n\nexport { loginCall };\n","async function signUpCall(userData) {\n  const options = {\n    method: 'POST',\n    body: JSON.stringify(userData),\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  };\n  const resp = await fetch(\n    'https://nba-house-manager.herokuapp.com/users/create/',\n    options\n  );\n  if (!resp.ok) {\n    throw new Error('Invalid password');\n  }\n\n  return resp.json();\n}\n\nexport { signUpCall };\n"],"names":["$dyT35","parcelRequire","$bpxeT","$14202ae84789e271$export$cd7d4df50c8f5a2d","userData","$14202ae84789e271$var$_loginCall","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","options","resp","method","body","JSON","stringify","headers","fetch","_ctx","sent","ok","Error","json","$e1b3c74b070f8d55$export$7e088af90f8d5b75","$e1b3c74b070f8d55$var$_signUpCall","$b8f9b7833fa37166$var$signUpBtn","document","querySelector","$b8f9b7833fa37166$var$logInBtn","$b8f9b7833fa37166$var$onCreateUser","e","preventDefault","_elements","currentTarget","elements","username","email","value","password","then","data","console","log","catch","err","$b8f9b7833fa37166$var$onLogInUser","localStorage","setItem","token","addEventListener","create","show","onShow","classList","add","onClose","remove"],"version":3,"file":"index.2513f103.js.map"}