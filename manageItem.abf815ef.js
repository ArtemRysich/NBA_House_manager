!function(){function e(e){return e&&e.__esModule?e.default:e}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},l=a.parcelRequired7c6;null==l&&((l=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var l={id:e,exports:{}};return t[e]=l,a.call(l.exports,l,l.exports),l.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,a){n[e]=a},a.parcelRequired7c6=l);var s=l("dyT35"),o=l("bpxeT"),r=l("2TvXO");function c(){return(c=e(o)(e(r).mark((function a(t){var n,l,s;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("Token"),l={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.next=4,fetch("https://nba-house-manager.herokuapp.com/objrent/".concat(t),l);case 4:if((s=e.sent).ok){e.next=7;break}throw new Error("Invalid password");case 7:return e.abrupt("return",s.json());case 8:case"end":return e.stop()}}),a)})))).apply(this,arguments)}var i=document.location.search.slice(4),u=document.querySelector(".js-container"),d=document.querySelector(".js-timer"),m=document.querySelector(".js-prev-page"),p=null,f=null,_=null;function v(e){var a=e.type,t=e.title,n=e.status,l=e.rooms,s=e.price,o=e.photo,r=e.details,c=e.area;u.innerHTML="<div class='main-manage__body'>\n  <div class='main-manage__image'>\n    <img src=\"".concat(o,'" alt="').concat(t,"\">\n  </div>\n  <div class='main-manage__text'>\n    <h2 class='main-manage__title'>").concat(t,"</h2>\n    <h3 class='main-manage__desc'>Опис: ").concat(r,"</h3>\n    <h3 class='main-manage__type'>Тип: ").concat(a,"</h3>\n    <h3 class='main-manage__rooms'>Кімнат: ").concat(l,"</h3>\n    <h3 class='main-manage__status'>Статус: ").concat(n,"</h3>\n    <h3 class='main-manage__price'>Ціна: ").concat(s,"$</h3>\n    <h3 class='main-manage__square'>Площа: ").concat(c,' м<sup>2</sup></h3>\n  <button type="button" class="js-edit main-manage__button">Редагувати об\'єкт</button>\n  </div>\n</div>')}function y(){var e=_.title,a=_.photo,t=_.details,n=_.price,l=_.area,o=_.rooms,r=_.type,c=_.status;p=a;var i=s.create('\n<form action="submit" class="js-form-realty form-realty form-realty_big">\n\n<div class=\'form-realty__input-block form-realty__input-block_row\'>\n  <label for="photo" class=\'form-realty__label\'>Завантажте фото об\'єкту*</label>\n  <label for="photo" class=\'form-realty__image-btn\'></label>\n  <input type="file" name="realty-photo" id="photo" accept="image/png, image/jpeg" hidden>\n</div>\n<div class="js-form-realty__preview form-realty__preview"><img src="'.concat(a,'" alt="preview"></div>\n\n<div class=\'form-realty__input-block\'>\n<label for="text" class=\'form-realty__label\'>Назва вашого об\'єкта*</label>\n<input type="text" class=\'form-realty__input\' name="realty-title" id="title" value="').concat(e,'">\n</div>\n\n<div class=\'form-realty__input-block\'>\n  <label for="details" class=\'form-realty__label\'>Опис об\'єкту*</label>\n  <textarea type="text" class=\'form-realty__input\' name="realty-details" id="details">').concat(t,'</textarea>\n</div>\n\n<div class=\'form-realty__input-block\'>\n  <label for="rooms" class=\'form-realty__label\'>Кількість кімнат*</label>\n  <input type="number" class=\'form-realty__input\' min="0" name="realty-rooms"  value="').concat(o,'" id="rooms">\n</div>\n\n<div class=\'form-realty__input-block\'>\n  <label for="area" class=\'form-realty__label\'>Площа об\'єкту м<sup>2</sup>*</label>\n  <input type="number" class=\'form-realty__input\' min="0" name="realty-area" value="').concat(l,'" id="area">\n</div>\n\n<div class=\'form-realty__input-block\'>\n  <label for="price" class=\'form-realty__label\'>Вартість об\'єкту*</label>\n  <input type="number" class=\'form-realty__input\' min="0" name="realty-price"  value="').concat(n,'" id="price">\n</div>\n\n<div class=\'form-realty__input-block\'>\n  <label for="type" class=\'form-realty__label\'>Тип пропозиції*</label>\n  <select name="realty-type" id="type" class=\'form-realty__select\'>\n    <option value="Продаж" ').concat("Продаж"===r?"selected":"",'>Продаж</option>\n    <option value="Оренда" ').concat("Оренда"===r?"selected":"",">Оренда</option>\n  </select>\n</div>\n").concat(function(e,a){return"Продаж"===e?'<div class=\'form-realty__input-block\'>\n          <label for="status" class=\'form-realty__label\'>Статус*</label>\n          <select name="realty-status" id="status" class=\'form-realty__select\'>\n              <option value="В продажі" '.concat("В продажі"===a?"selected":"",'>В продажі</option>\n              <option value="Продано" ').concat("Продано"===a?"selected":"",">Продано</option>\n          </select>\n          </div>"):'<div class=\'form-realty__input-block\'>\n          <label for="status" class=\'form-realty__label\'>Статус*</label>\n          <select name="realty-status" id="status" class=\'form-realty__select\'>\n              <option value="Вільно" '.concat("Вільно"===a?"selected":"",'>Вільно</option>\n              <option value="Здано" ').concat("Здано"===a?"selected":"",">Здано</option>\n          </select>\n          </div>")}(r,c),"\n<button class='form-realty__create'>Зберегти</button>\n<button type=\"button\" class='form-realty__create js-form-realty__close'>Відмінити</button>\n</form>\n</div>"),{onShow:function(){document.body.classList.add("lock")},onClose:function(){document.body.classList.remove("lock")}});i.show();var u=document.querySelector(".js-form-realty"),d=document.querySelector(".js-form-realty__close");u.addEventListener("submit",b.bind(i)),d.addEventListener("click",(function(){return i.close()})),u.photo.addEventListener("change",h)}function b(e){e.preventDefault();var a=e.currentTarget.elements,t=a.details,n=a.rooms,l=a.area,s=a.price,o=a.type,r=a.title,c=a.status,u=null;if("Здано"===c.value&&!_.rentTime){var d=new Date,m=d.getMonth();d.setMonth(11!==m?m+1:0),u=d}var f={id:i,photo:p,title:r.value,details:t.value,rooms:n.value,area:l.value,price:s.value,type:o.value,status:c.value,rentTime:u};v(f),g(f.rentTime),_=f,this.close()}function h(){var e,a,t;e=this.files[0],a=document.querySelector(".js-form-realty__preview"),(t=new FileReader).onload=function(e){p=e.target.result,a.innerHTML='<img src="'.concat(p,'" alt="preview">')},t.readAsDataURL(e)}function g(e){e&&setInterval((function(){var a=new Date(e),t=new Date,n=a-t;if(n<=0){var l=t.getMonth();a.setMonth(11!==l?l+1:0),_.rentTime=a}var s=function(e){var a=1e3,t=60*a,n=60*t,l=24*n,s=Math.floor(e/l),o=Math.floor(e%l/n),r=Math.floor(e%l%n/t),c=Math.floor(e%l%n%t/a);return{days:s,hours:o,minutes:r,seconds:c}}(n),o=s.days,r=s.hours,c=s.minutes,i=s.seconds;d.innerHTML="\n    <div class='timer'>\n      <h2 class='timer__title'>До отримання оренди залишилось!</h2>\n      <div class='fields'>\n        <div class=\"field\">\n          <span class=\"value\" data-days>".concat(o,'</span>\n          <span class="label">Днів</span>\n        </div>\n        <div class="field">\n          <span class="value" data-hours>').concat(r,'</span>\n          <span class="label">Годин</span>\n        </div>\n        <div class="field">\n          <span class="value" data-minutes>').concat(c,'</span>\n          <span class="label">Хвилин</span>\n        </div>\n        <div class="field">\n          <span class="value" data-seconds>').concat(i,'</span>\n          <span class="label">Секунд</span>\n        </div>\n      </div>\n    </div>')}),1e3)}m.addEventListener("click",(function(){history.back()})),function(e){return c.apply(this,arguments)}(i).then((function(e){f=(_=e).rentTime,v(_),g(f),document.querySelector(".js-edit").addEventListener("click",y)})),g(_)}();
//# sourceMappingURL=manageItem.abf815ef.js.map
