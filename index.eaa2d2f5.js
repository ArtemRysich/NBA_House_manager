!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,n){o[e]=n},n.parcelRequired7c6=r);var s=r("dyT35"),a=r("bpxeT"),c=r("2TvXO");function i(e){return l.apply(this,arguments)}function l(){return(l=e(a)(e(c).mark((function n(t){var o,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}},e.next=3,fetch("https://nba-house-manager.herokuapp.com/login",o);case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Invalid password");case 6:return e.abrupt("return",r.json());case 7:case"end":return e.stop()}}),n)})))).apply(this,arguments)}a=r("bpxeT"),c=r("2TvXO");function u(e){return d.apply(this,arguments)}function d(){return(d=e(a)(e(c).mark((function n(t){var o,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}},e.next=3,fetch("https://nba-house-manager.herokuapp.com/users/create",o);case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Invalid password");case 6:return e.abrupt("return",r.json());case 7:case"end":return e.stop()}}),n)})))).apply(this,arguments)}var p=document.querySelector(".js-show-signUp"),f=document.querySelector(".js-show-signIn"),h=document.querySelector(".js-link"),m=document.querySelector(".js_reg");(p.addEventListener("click",g),f.addEventListener("click",v),localStorage.getItem("Token"))&&(h.hidden=!1,m.innerHTML='<span class="js-logout header__link">Вийти</span>',document.querySelector(".js-logout").addEventListener("click",k));function g(){var e=s.create('\n  <form class="js-signIn signIn">\n    <input type="email" name="email" class=\'signIn__input\' placeholder="Введіть емейл" />\n    <input type="password" class=\'signIn__input\' name="password" placeholder="Введіть пароль" />\n    <button class=\'signIn__button\'>Зареєструватись</button>\n  </form>\n    ');e.show(),document.querySelector(".js-signIn").addEventListener("submit",w.bind(e))}function v(){var e=s.create('\n    <form class="js-logIn logIn">\n    <input type="text" name="email" class=\'logIn__input\' placeholder="Введіть емейл..." />\n    <input type="password" name="password" class=\'logIn__input\' placeholder="Введіть пароль..." />\n    <button class=\'logIn__button\'>Увійти</button>\n  </form>\n  ',{onShow:function(){document.body.classList.add("lock")},onClose:function(){document.body.classList.remove("lock")}});e.show(),document.querySelector(".js-logIn").addEventListener("submit",y.bind(e))}function w(e){e.preventDefault();var n=this,t=e.currentTarget.elements,o={username:t.email.value,password:t.password.value};u(o).then((function(){n.close()})).then((function(){return i(o).then((function(e){h.hidden=!1,m.innerHTML='<span class="js-logout header__link">Вийти</span>',document.querySelector(".js-logout").addEventListener("click",k),localStorage.setItem("Token",e.token),n.close()}))})).catch((function(e){return console.log(e)}))}function y(e){var n=this;e.preventDefault();var t=e.currentTarget.elements;i({username:t.email.value,password:t.password.value}).then((function(e){var t=n;h.hidden=!1,m.innerHTML='<span class="js-logout header__link">Вийти</span>',document.querySelector(".js-logout").addEventListener("click",k),localStorage.setItem("Token",e.token),t.close()})).catch((function(e){return console.log(e)}))}function k(){localStorage.removeItem("Token"),h.hidden=!0,m.innerHTML='<span class="js-show-signIn header__link">Увійти</span> / <span class="js-show-signUp header__link">Зареєструватись</span>';var e=document.querySelector(".js-show-signUp"),n=document.querySelector(".js-show-signIn");e.addEventListener("click",g),n.addEventListener("click",v)}}();
//# sourceMappingURL=index.eaa2d2f5.js.map
