!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var l={id:e,exports:{}};return t[e]=l,n.call(l.exports,l,l.exports),l.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},e.parcelRequired7c6=n);var l,r=n("dyT35"),o=n("glzNX"),s=document.querySelector(".js-add-realty"),i=document.querySelector(".js-filter"),c=document.querySelector(".js-filter-items-remove"),u="realty-items",d=null!==(l=JSON.parse(localStorage.getItem(u)))&&void 0!==l?l:[],p=document.querySelector(".js-list"),m=null;function _(){var e,t,a;e=this.files[0],t=document.querySelector(".js-form-realty__preview"),(a=new FileReader).onload=function(e){m=e.target.result,t.insertAdjacentHTML("beforeend",'<img src="'.concat(m,'" alt="preview">'))},a.readAsDataURL(e)}function f(){window.location.href="./manageItem.html?id="+this.id}function y(e){e.preventDefault(),console.log(document.querySelector(".js-test").value);var t=e.currentTarget.elements,a=t.details,n=t.rooms,l=t.area,r=t.price,s=t.type,i=t.title,c={id:(0,o.v4)(),photo:m,title:i.value,details:a.value,rooms:n.value,area:l.value,price:r.value,type:s.value,status:"Продаж"===s.value?"В продажі":"Вільно"};d.push(c),localStorage.setItem(u,JSON.stringify(d)),this.close(),p.innerHTML=v(d)}function v(e){return e.map((function(e){var t=e.status,a=e.id,n=e.photo,l=e.price,r=e.area,o=e.title;e.type;return'\n      <li data-id="'.concat(a,"\" class=\"js-realty-item main-objects__item\">\n        <div class='main-objects__body'>\n          <div class='main-objects__image'>\n            <img src=\"").concat(n,'" alt="').concat(l,"\">\n          </div>\n          <div class='main-objects__desc'>\n            <h2 class='main-objects__title'>").concat(o,"</h2>\n            <h3 class='main-objects__price'>Ціна: ").concat(l,"$</h3>\n            <h3 class='main-objects__square'>Площа: ").concat(r," м<sup>2</sup></h3>\n            <h3 class='main-objects__status'>Статус: ").concat(t,"</h3>\n          </div>\n        </div>\n    </li>")})).join("")}c.addEventListener("click",(function(){i.reset(),p.innerHTML=v(d)})),i.addEventListener("submit",(function(e){e.preventDefault();var t=e.currentTarget.elements.filter,a=d.filter((function(e){return e.status===t.value}));p.innerHTML=v(a)})),s.addEventListener("click",(function(){var e=r.create('\n    <form action="submit" class="js-form-realty form-realty">\n\n    <div class=\'form-realty__input-block form-realty__input-block_row\'>\n      <label for="photo" class=\'form-realty__label\'>Завантажте фото об\'єкту</label>\n      <label for="photo" class=\'form-realty__image-btn\'></label>\n      <input type="file" name="realty-photo" id="photo" accept="image/png, image/jpeg"  class="js-test"hidden>\n    </div>\n\n    <div class="js-form-realty__preview form-realty__preview"></div>\n\n    <div class=\'form-realty__input-block\'>\n    <label for="text" class=\'form-realty__label\'>Назва вашого об\'єкта</label>\n    <input type="text" class=\'form-realty__input\' name="realty-title" id="title">\n    </div>\n\n    <div class=\'form-realty__input-block\'>\n      <label for="details" class=\'form-realty__label\'>Опис об\'єкту</label>\n      <textarea class=\'form-realty__input\' name="realty-details" id="details"></textarea>\n    </div>\n\n    <div class=\'form-realty__input-block\'>\n      <label for="rooms" class=\'form-realty__label\'>Кількість кімнат</label>\n      <input type="number" class=\'form-realty__input\' min="0" name="realty-rooms" id="rooms">\n    </div>\n\n    <div class=\'form-realty__input-block\'>\n      <label for="area" class=\'form-realty__label\'>Площа об\'єкту м<sup>2</sup>;</label>\n      <input type="number" class=\'form-realty__input\' min="0" name="realty-area" id="area">\n    </div>\n\n    <div class=\'form-realty__input-block\'>\n      <label for="price" class=\'form-realty__label\'>Вартість об\'єкту</label>\n      <input type="number" class=\'form-realty__input\' min="0" name="realty-price" id="price">\n    </div>\n\n    <div class=\'form-realty__input-block\'>\n      <label for="type" class=\'form-realty__label\'>Тип пропозиції</label>\n      <select name="realty-type" id="type" class=\'form-realty__select\'>\n        <option value="Продаж">Продаж</option>\n        <option value="Оренда">Оренда</option>\n      </select>\n    </div>\n    <button class=\'form-realty__create\'>Створити об\'єкт</button>\n  </form>',{onShow:function(){document.body.classList.add("lock")},onClose:function(){document.body.classList.remove("lock")}});e.show();var t=document.querySelector(".js-form-realty");t.addEventListener("submit",y.bind(e)),t.photo.addEventListener("change",_)})),p.addEventListener("click",(function(e){if(!e.target.closest(".js-realty-item"))return;var t=e.target.closest(".js-realty-item").dataset.id,a=d.find((function(e){return e.id===t})),n=a.title,l=a.photo,o=a.details,s=a.price,i=a.area,c=a.rooms,u=a.type,p=a.status;r.create('<div data-id="'.concat(t,"\" class='manage-popup'>\n  <div class='manage-popup__image'>\n    <img src=\"").concat(l,'" alt="').concat(n,"\">\n  </div>\n  <h2 class='manage-popup__title'>").concat(n,"</h2>\n  <h3 class='manage-popup__details'>").concat(o,"</h3>\n  <h3 class='manage-popup__price'>Ціна: ").concat(s," $</h3>\n  <h3 class='manage-popup__square>Площа: ").concat(i," м<sup>2</sup></h3>\n  <h3 class='manage-popup__numbers'>Кількість кімнат: ").concat(c,"</h3>\n  <h3 class='manage-popup__type'>Тип: ").concat(u,"</h3>\n  <h3 class='manage-popup__status'>Статус: ").concat(p,'</h3>\n  <button class="js-realty-info manage-popup__button">Управління об\'єктом</button>\n  </div>')).show(),document.querySelector(".js-realty-info").addEventListener("click",f.bind({id:t}))})),d.length&&p.insertAdjacentHTML("beforeend",v(d))}();
//# sourceMappingURL=realty.310bd333.js.map
