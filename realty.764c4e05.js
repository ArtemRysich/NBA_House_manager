var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var l={id:e,exports:{}};return t[e]=l,n.call(l.exports,l,l.exports),l.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},e.parcelRequired7c6=n);var l=n("9B8F0"),s=n("fY5Ig");const r=document.querySelector(".js-add-realty"),o=document.querySelector(".js-filter"),i=document.querySelector(".js-filter-items-remove");var c;const d=null!==(c=JSON.parse(localStorage.getItem("realty-items")))&&void 0!==c?c:[],u=document.querySelector(".js-list");let p=null;function m(){!function(e){const t=document.querySelector(".js-form-realty__preview"),a=new FileReader;a.onload=function(e){p=e.target.result,t.insertAdjacentHTML("beforeend",`<img src="${p}" alt="preview">`)},a.readAsDataURL(e)}(this.files[0])}function _(){window.location.href="./manageItem.html?id="+this.id}function f(e){e.preventDefault(),console.log(document.querySelector(".js-test").value);const{details:t,rooms:a,area:n,price:l,type:r,title:o}=e.currentTarget.elements,i={id:(0,s.v4)(),photo:p,title:o.value,details:t.value,rooms:a.value,area:n.value,price:l.value,type:r.value,status:"Продаж"===r.value?"В продажі":"Вільно"};d.push(i),localStorage.setItem("realty-items",JSON.stringify(d)),this.close(),u.innerHTML=y(d)}function y(e){return e.map((({status:e,id:t,photo:a,price:n,area:l,title:s,type:r})=>`\n      <li data-id="${t}" class="js-realty-item main-objects__item">\n        <div class='main-objects__body'>\n          <div class='main-objects__image'>\n            <img src="${a}" alt="${n}">\n          </div>\n          <div class='main-objects__desc'>\n            <h2 class='main-objects__title'>${s}</h2>\n            <h3 class='main-objects__price'>Ціна: ${n}$</h3>\n            <h3 class='main-objects__square'>Площа: ${l} м<sup>2</sup></h3>\n            <h3 class='main-objects__status'>Статус: ${e}</h3>\n          </div>\n        </div>\n    </li>`)).join("")}i.addEventListener("click",(function(){o.reset(),u.innerHTML=y(d)})),o.addEventListener("submit",(function(e){e.preventDefault();const{filter:t}=e.currentTarget.elements,a=d.filter((({status:e})=>e===t.value));u.innerHTML=y(a)})),r.addEventListener("click",(function(){const e=l.create('\n    <form action="submit" class="js-form-realty form-realty">\n\n    <div class=\'form-realty__input-block form-realty__input-block_row\'>\n      <label for="photo" class=\'form-realty__label\'>Завантажте фото об\'єкту</label>\n      <label for="photo" class=\'form-realty__image-btn\'></label>\n      <input type="file" name="realty-photo" id="photo" accept="image/png, image/jpeg"  class="js-test"hidden>\n    </div>\n\n    <div class="js-form-realty__preview form-realty__preview"></div>\n\n    <div class=\'form-realty__input-block\'>\n    <label for="text" class=\'form-realty__label\'>Назва вашого об\'єкта</label>\n    <input type="text" class=\'form-realty__input\' name="realty-title" id="title">\n    </div>\n\n    <div class=\'form-realty__input-block\'>\n      <label for="details" class=\'form-realty__label\'>Опис об\'єкту</label>\n      <textarea class=\'form-realty__input\' name="realty-details" id="details"></textarea>\n    </div>\n\n    <div class=\'form-realty__input-block\'>\n      <label for="rooms" class=\'form-realty__label\'>Кількість кімнат</label>\n      <input type="number" class=\'form-realty__input\' min="0" name="realty-rooms" id="rooms">\n    </div>\n\n    <div class=\'form-realty__input-block\'>\n      <label for="area" class=\'form-realty__label\'>Площа об\'єкту м<sup>2</sup>;</label>\n      <input type="number" class=\'form-realty__input\' min="0" name="realty-area" id="area">\n    </div>\n\n    <div class=\'form-realty__input-block\'>\n      <label for="price" class=\'form-realty__label\'>Вартість об\'єкту</label>\n      <input type="number" class=\'form-realty__input\' min="0" name="realty-price" id="price">\n    </div>\n\n    <div class=\'form-realty__input-block\'>\n      <label for="type" class=\'form-realty__label\'>Тип пропозиції</label>\n      <select name="realty-type" id="type" class=\'form-realty__select\'>\n        <option value="Продаж">Продаж</option>\n        <option value="Оренда">Оренда</option>\n      </select>\n    </div>\n    <button class=\'form-realty__create\'>Створити об\'єкт</button>\n  </form>',{onShow:()=>{document.body.classList.add("lock")},onClose:()=>{document.body.classList.remove("lock")}});e.show();const t=document.querySelector(".js-form-realty");t.addEventListener("submit",f.bind(e)),t.photo.addEventListener("change",m)})),u.addEventListener("click",(function(e){if(!e.target.closest(".js-realty-item"))return;const{id:t}=e.target.closest(".js-realty-item").dataset,{title:a,photo:n,details:s,price:r,area:o,rooms:i,type:c,status:u}=d.find((({id:e})=>e===t));l.create(`<div data-id="${t}" class='manage-popup'>\n  <div class='manage-popup__image'>\n    <img src="${n}" alt="${a}">\n  </div>\n  <h2 class='manage-popup__title'>${a}</h2>\n  <h3 class='manage-popup__details'>${s}</h3>\n  <h3 class='manage-popup__price'>Ціна: ${r} $</h3>\n  <h3 class='manage-popup__square>Площа: ${o} м<sup>2</sup></h3>\n  <h3 class='manage-popup__numbers'>Кількість кімнат: ${i}</h3>\n  <h3 class='manage-popup__type'>Тип: ${c}</h3>\n  <h3 class='manage-popup__status'>Статус: ${u}</h3>\n  <button class="js-realty-info manage-popup__button">Управління об'єктом</button>\n  </div>`).show();document.querySelector(".js-realty-info").addEventListener("click",_.bind({id:t}))})),d.length&&u.insertAdjacentHTML("beforeend",y(d));
//# sourceMappingURL=realty.764c4e05.js.map
