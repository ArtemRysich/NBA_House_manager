!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},t={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in a)return a[e].exports;if(e in t){var n=t[e];delete t[e];var l={id:e,exports:{}};return a[e]=l,n.call(l.exports,l,l.exports),l.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,a){t[e]=a},e.parcelRequired7c6=n);var l,s=n("dyT35"),o=document.location.search.slice(4),r="realty-items",i=null!==(l=JSON.parse(localStorage.getItem(r)))&&void 0!==l?l:[],c=i.find((function(e){return e.id===o})),d=document.querySelector(".js-container"),u=document.querySelector(".js-timer"),m=null;function p(e){var a=e.type,t=e.title,n=e.status,l=e.rooms,s=e.price,o=e.photo,r=e.details,i=e.area;d.innerHTML="<div class='main-manage__body'>\n  <div class='main-manage__image'>\n    <img src=\"".concat(o,'" alt="').concat(t,"\">\n  </div>\n  <div class='main-manage__text'>\n    <h2 class='main-manage__title'>").concat(t,"</h2>\n    <h3 class='main-manage__desc'>Опис: ").concat(r,"</h3>\n    <h3 class='main-manage__type'>Тип: ").concat(a,"</h3>\n    <h3 class='main-manage__rooms'>Кімнат: ").concat(l,"</h3>\n    <h3 class='main-manage__status'>Статус: ").concat(n,"</h3>\n    <h3 class='main-manage__price'>Ціна: ").concat(s,"$</h3>\n    <h3 class='main-manage__square'>Площа: ").concat(i,' м<sup>2</sup></h3>\n  <button type="button" class="js-edit main-manage__button">Редагувати об\'єкт</button>\n  </div>\n</div>')}function f(e){e.preventDefault();var a=e.currentTarget.elements,t=a.details,n=a.rooms,l=a.area,s=a.price,d=a.type,u=a.title,f=a.status,_=null;if("Здано"===f.value&&!c.rentTime){var y=new Date,b=y.getMonth();y.setMonth(11!==b?b+1:0),_=y,console.log("tyt",_)}var h={id:o,photo:m,title:u.value,details:t.value,rooms:n.value,area:l.value,price:s.value,type:d.value,status:f.value,rentTime:_};p(h),v(h.rentTime);var g=i.findIndex((function(e){return e.id===o}));i[g]=h,localStorage.setItem(r,JSON.stringify(i)),this.close()}function _(){var e,a,t;e=this.files[0],a=document.querySelector(".js-form-realty__preview"),(t=new FileReader).onload=function(e){m=e.target.result,a.insertAdjacentHTML("beforeend",'<img src="'.concat(m,'" alt="preview">'))},t.readAsDataURL(e)}function v(e){e&&setInterval((function(){var a=new Date(e),t=new Date,n=a-t;if(n<=0){var l=i.findIndex((function(e){return e.id===o})),s=t.getMonth();a.setMonth(11!==s?s+1:0),c.rentTime=a,i[l]=data,localStorage.setItem(r,JSON.stringify(i))}var d=function(e){var a=1e3,t=60*a,n=60*t,l=24*n,s=Math.floor(e/l),o=Math.floor(e%l/n),r=Math.floor(e%l%n/t),i=Math.floor(e%l%n%t/a);return{days:s,hours:o,minutes:r,seconds:i}}(n),m=d.days,p=d.hours,f=d.minutes,_=d.seconds;u.innerHTML="\n    <div class='timer'>\n      <h2 class='timer__title'>До отримання оренди залишилось!</h2>\n      <div class='fields'>\n        <div class=\"field\">\n          <span class=\"value\" data-days>".concat(m,'</span>\n          <span class="label">Днів</span>\n        </div>\n        <div class="field">\n          <span class="value" data-hours>').concat(p,'</span>\n          <span class="label">Годин</span>\n        </div>\n        <div class="field">\n          <span class="value" data-minutes>').concat(f,'</span>\n          <span class="label">Хвилин</span>\n        </div>\n        <div class="field">\n          <span class="value" data-seconds>').concat(_,'</span>\n          <span class="label">Секунд</span>\n        </div>\n      </div>\n    </div>')}),1e3)}p(c),v(c.rentTime),document.querySelector(".js-edit").addEventListener("click",(function(){var e=c.title,a=c.photo,t=c.details,n=c.price,l=c.area,o=c.rooms,r=c.type,i=c.status;m=a;var d=s.create('\n<form action="submit" class="js-form-realty form-realty form-realty_big">\n\n<div class=\'form-realty__input-block form-realty__input-block_row\'>\n  <label for="photo" class=\'form-realty__label\'>Завантажте фото об\'єкту</label>\n  <label for="photo" class=\'form-realty__image-btn\'></label>\n  <input type="file" name="realty-photo" id="photo" accept="image/png, image/jpeg" hidden>\n</div>\n<div class="js-form-realty__preview form-realty__preview"><img src="'.concat(a,'" alt="preview"></div>\n\n<div class=\'form-realty__input-block\'>\n<label for="text" class=\'form-realty__label\'>Назва вашого об\'єкта</label>\n<input type="text" class=\'form-realty__input\' name="realty-title" id="title" value="').concat(e,'">\n</div>\n\n<div class=\'form-realty__input-block\'>\n  <label for="details" class=\'form-realty__label\'>Опис об\'єкту</label>\n  <textarea type="text" class=\'form-realty__input\' name="realty-details" id="details">').concat(t,'</textarea>\n</div>\n\n<div class=\'form-realty__input-block\'>\n  <label for="rooms" class=\'form-realty__label\'>Кількість кімнат</label>\n  <input type="number" class=\'form-realty__input\' min="0" name="realty-rooms"  value="').concat(o,'" id="rooms">\n</div>\n\n<div class=\'form-realty__input-block\'>\n  <label for="area" class=\'form-realty__label\'>Площа об\'єкту м<sup>2</sup>;</label>\n  <input type="number" class=\'form-realty__input\' min="0" name="realty-area" value="').concat(l,'" id="area">\n</div>\n\n<div class=\'form-realty__input-block\'>\n  <label for="price" class=\'form-realty__label\'>Вартість об\'єкту</label>\n  <input type="number" class=\'form-realty__input\' min="0" name="realty-price"  value="').concat(n,'" id="price">\n</div>\n\n<div class=\'form-realty__input-block\'>\n  <label for="type" class=\'form-realty__label\'>Тип пропозиції</label>\n  <select name="realty-type" id="type" class=\'form-realty__select\'>\n    <option value="Продаж" ').concat("Продаж"===r?"selected":"",'>Продаж</option>\n    <option value="Оренда" ').concat("Оренда"===r?"selected":"",">Оренда</option>\n  </select>\n</div>\n").concat(function(e,a){return"Продаж"===e?'<div class=\'form-realty__input-block\'>\n          <label for="status" class=\'form-realty__label\'>Статус</label>\n          <select name="realty-status" id="status" class=\'form-realty__select\'>\n              <option value="В продажі" '.concat("В продажі"===a?"selected":"",'>В продажі</option>\n              <option value="Продано" ').concat("Продано"===a?"selected":"",">Продано</option>\n          </select>\n          </div>"):'<div class=\'form-realty__input-block\'>\n          <label for="status" class=\'form-realty__label\'>Статус</label>\n          <select name="realty-status" id="status" class=\'form-realty__select\'>\n              <option value="Вільно" '.concat("Вільно"===a?"selected":"",'>Вільно</option>\n              <option value="Здано" ').concat("Здано"===a?"selected":"",">Здано</option>\n          </select>\n          </div>")}(r,i),"\n<button class='form-realty__create'>Зберегти</button>\n<button type=\"button\" class='form-realty__create js-form-realty__close'>Відмінити</button>\n</form>\n</div>"),{onShow:function(){document.body.classList.add("lock")},onClose:function(){document.body.classList.remove("lock")}});d.show();var u=document.querySelector(".js-form-realty"),p=document.querySelector(".js-form-realty__close");u.addEventListener("submit",f.bind(d)),p.addEventListener("click",(function(){return d.close()})),u.photo.addEventListener("change",_)}))}();
//# sourceMappingURL=manageItem.a0f724d5.js.map
